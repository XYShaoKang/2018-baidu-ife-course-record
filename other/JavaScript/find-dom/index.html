<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <title>IFE ECMAScript</title>
</head>

<body>
    <div id="wrapper">
        <div id="news-top" class="section">
            <h3>Some title</h3>
            <div class="content">
                <ul>
                    <li>
                        <span>HTML</span>
                        <a href="">Some Link1</a>
                    </li>
                    <li>
                        <span>JS</span>
                        <a class="active" href="">Some Link2</a>
                    </li>
                    <li>
                        <span>CSS</span>
                        <a href="">Some Link3</a>
                    </li>
                    <li>
                        <span>JS</span>
                        <a href="">Some Link4</a>
                    </li>
                </ul>
            </div>
            <img src="">
            <p class="">Some Text</p>
        </div>
        <div id="news-normal" class="section">
            <h3>Some title</h3>
            <div class="content">
                <ul>
                    <li>
                        <span>HTML</span>
                        <a href="">Some Link1</a>
                    </li>
                    <li>
                        <span>HTML</span>
                        <a href="">Some Link2</a>
                    </li>
                    <li>
                        <span>JS</span>
                        <a class="active" href="#">Some Link3</a>
                    </li>
                    <li>
                        <span>CSS</span>
                        <a href="">Some Link4</a>
                    </li>
                </ul>
            </div>
            <img src="">
            <p class="">Some Text</p>
        </div>
    </div>
    <script>
        // 返回页面中所有li标签
        function getAllListItem() {
            return document.getElementsByTagName('li');
        }
        // 返回某个section下所有span中内容为HTML的span标签
        function findAllHtmlSpanInOneSection(sectionId) {
            var spans = [];
            for (const element of document.getElementById(sectionId).getElementsByTagName('span')) {
                if (element.innerText == 'HTML') {
                    spans.push(element);
                }
            }
            return spans;
        }
        // 返回某个section下，所有所包含span内容为spanCont的LI标签
        function findListItem(sectionId, spanCont) {
            var lis = [];
            for (const li of document.getElementById(sectionId).getElementsByTagName('li')) {
                for (const span of li.getElementsByTagName('span')) {
                    if (span.innerText == spanCont) {

                        lis.push(li);
                        break;
                    }
                }
            }
            return lis;
        }
        // 返回某个section下，class为active的链接中包含的文字内容
        function getActiveLinkContent(sectionId) {
            var strs = [];
            for (const active of document.getElementById(sectionId).getElementsByClassName('active')) {
                strs.push(active.innerText);
            }
            return strs;
        }

        //使用querySelector及querySelectorAll
        // 返回页面中所有li标签
        function getAllListItemQ() {
            return document.querySelectorAll("li");

        }
        // 返回某个section下所有span中内容为HTML的span标签
        function findAllHtmlSpanInOneSectionQ(sectionId) {
            var spans = [];
            for (const element of document.querySelectorAll(`#${sectionId} span`)) {
                if (element.innerText == 'HTML') {
                    spans.push(element);
                }
            }
            return spans;

        }
        // 返回某个section下，所有所包含span内容为spanCont的LI标签
        function findListItemQ(sectionId, spanCont) {
            var lis = [];
            for (const liElement of document.querySelectorAll(`#${sectionId} li`)) {
                for (const spanElement of liElement.querySelectorAll('span')) {
                    if (spanElement.innerText == spanCont) {
                        lis.push(liElement);
                        break;
                    }
                }
            }
            return lis;

        }
        // 返回某个section下，class为active的链接中包含的文字内容
        function getActiveLinkContentQ(sectionId) {
            var strs = [];
            for (const aElement of document.querySelectorAll(`#${sectionId} a.active`)) {
                strs.push(aElement.innerText);
            }
            return strs;

        }

        // // 测试速度
        // console.time("sort");
        // for (let index = 0; index < 10000; index++) {
        //     getActiveLinkContent("news-normal", 'HTML');
        // }
        // console.timeEnd("sort");
        // console.time("sort1");
        // for (let index = 0; index < 10000; index++) {
        //     getActiveLinkContentQ("news-normal", 'HTML');
        // }
        // console.timeEnd("sort1");
        // // 测试速度结束

        // 输出结果 
        function logResult(sectionId) {
            console.log(`getAllListItem('${sectionId}')`);
            console.log(getAllListItem(sectionId));

            console.log(`findAllHtmlSpanInOneSection('${sectionId}')`);
            console.log(findAllHtmlSpanInOneSection(sectionId));

            console.log(`findListItem('${sectionId}','HTML')`);
            console.log(findListItem(sectionId, 'HTML'));

            console.log(`getActiveLinkContent('${sectionId}')`);
            console.log(getActiveLinkContent(sectionId));

            console.log(`getAllListItemQ('${sectionId}')`);
            console.log(getAllListItemQ(sectionId));

            console.log(`findAllHtmlSpanInOneSectionQ('${sectionId}')`);
            console.log(findAllHtmlSpanInOneSectionQ(sectionId));

            console.log(`findListItemQ('${sectionId}','HTML')`);
            console.log(findListItemQ(sectionId, 'HTML'));

            console.log(`getActiveLinkContentQ('${sectionId}')`);
            console.log(getActiveLinkContentQ(sectionId));
        }
        logResult("news-normal");


    </script>
</body>

</html>